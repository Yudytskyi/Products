{
  "db": {
    "product": {"id": "INTEGER", "name": "STRING(256)"},
    "productTypes":  {
      "id": "INTEGER",
      "typeName": {
        "phone": {
          "check": "attributes.graphicsCard"
        },
        "tablet": {
          "check": "!_.isNil(attributes.graphicsCard) || !_.isNil(attributes.dualSim)"
        },
        "laptop": {
          "check":"attributes.dualSim"
        }
      } ,
      "attributes":{
        "weight": "INTEGER",
        "color": "STRING(64)",
        "price": "FLOAT",
        "dualSim": "BOOLEAN",
        "graphicsCard": "STRING(256)"
      }
    },
    "fields": {
      "includesFields": ["weight", "color", "price", "dualSim", "graphicsCard"],
      "prepareProductFields": ["id", "name", "typeName", "weight", "color", "price", "dualSim", "graphicsCard"]
    },
    "prototypeOfAttributes": {
        "weight":"weight", 
        "color":"color", 
        "price":"price", 
        "dualSim":"dualSim", 
        "graphicsCard": "graphicsCard"
      },
    "prototypeOfPreparedProduct": {
        "productId":"productId", 
        "name":"name", 
        "typeName":"typeName", 
        "attributes":{
          "weight":"weight", 
          "color":"color", 
          "price":"price", 
          "dualSim":"dualSim", 
          "graphicsCard": "graphicsCard"
        }
      }
  }
}
